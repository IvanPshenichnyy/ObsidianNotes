### Этап 3: Замыкания (Closures)

#### 1. Что такое замыкание?

Замыкание — это блок кода, который можно передавать и вызывать, как функцию. Основное отличие замыканий от функций — это возможность "захватывать" значения из окружающего контекста. Это полезно для создания кратких и гибких функций, особенно при работе с коллекциями и асинхронными операциями.

Замыкания часто используются для:

- Обработки событий.
- Выполнения операций над массивами (например, фильтрация).
- Асинхронных задач (сетевые запросы, анимации).

#### 2. Синтаксис замыканий

Замыкание можно объявить, используя следующий синтаксис:

```swift
{ (параметры) -> ВозвращаемыйТип in
    // Тело замыкания
}
```

#### 3. Примеры замыканий

- **Пример простого замыкания**:
    
	```swift
	let greeting = { (name: String) -> String in
	return "Hello, \(name)!"
	}
	print(greeting("Alice"))  // Результат: "Hello, Alice!"
	```
    
- **Пример замыкания без параметров и возвращаемого значения**:
    
	```swift
	let sayHello = {
	    print("Hello!")
	}
	sayHello()  // Результат: "Hello!"
	```

#### 4. Замыкания и встроенные функции

Замыкания особенно полезны при работе с методами коллекций, такими как `filter`, `map`, `sort`.

- **Пример использования замыкания в методе `filter` для фильтрации массива**:
    
	```swift
	let numbers = [1, 2, 3, 4, 5, 6]
	let evenNumbers = numbers.filter { (number) -> Bool in
	return number % 2 == 0
	}
	print(evenNumbers)  // Результат: [2, 4, 6]
	```
    

#### 5. Сокращение синтаксиса замыканий

В Swift можно опускать часть кода для более краткой записи замыканий:

- Опускаем типы параметров и возвращаемый тип, если они могут быть выведены.
    
- Используем краткую форму с именами параметров как `$0`, `$1`, и так далее.
    
- **Пример сокращенной записи замыкания**:
    
	```swift
	let evenNumbers = numbers.filter { $0 % 2 == 0 }
	print(evenNumbers)  // Результат: [2, 4, 6]
	```
    

### Задания для практики:

1. Напиши замыкание, которое возвращает квадрат числа.
2. Используй замыкание в методе `filter`, чтобы оставить в массиве только числа больше 5.
3. Напиши замыкание для метода `map`, которое умножает каждый элемент массива на 2.

#### Совет:

- Замыкания можно представить как компактные и одноразовые функции, которые удобно использовать прямо на месте, где они нужны, вместо того, чтобы объявлять отдельные функции.

##### Решения 
```swift
//Задание 1
let squareOfNum: (Int) -> Int = { num in
    return num * num
}
squareOfNum(5)

//Задание 2
var numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11]
let evenNumbers = numbers.filter { $0 > 5}

//Задание 3
var mapNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11]
let mapClouser = mapNumbers.map { $0 * 2 }
```